<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meme Generator</title>
</head>

<body>
  
<main>

<form>

<label for="search">Search</label>
<input id="search" type="search"/>
<button id="btnSearch">Go</button>

</form>

<div class="out"></div>

</main>

<script>

let APIKEY = "o58fMMxvAkc7hySu0MF9E1duUL47viNk";

document.addEventListener("DOMContentLoaded", init);
function init() {
  document.getElementById("btnSearch").addEventListener("click", ev => {
    //This here below stops the page reload
    ev.preventDefault();
    let url = `https://api.giphy.com/v1/gifs/random?api_key=${APIKEY}&limit=1&tag=`;
    let str = document.getElementById("search").value.trim();
    url = url.concat(str);
    fetch(url)
    .then(response => response.json() )
    //response is then passed down into content down here
    .then(content => {
      let fig = document.createElement('figure');
      let img = document.createElement('img');
      let fc = document.createElement('figcaption');
      img.src = content.data.images.downsized.url;
      img.alt = content.data.title;
      fc.textContent = content.data.title;
      fig.appendChild(img);
      fig.appendChild(fc);
      let out = document.querySelector('.out');
      //This here below is done so the newest image is placed at the top so the user doesn't have to scroll to the bottom. So you're adding this figure into the div with class=out
      out.insertAdjacentElement('afterbegin', fig);
      document.querySelector('#search').value = '';
    })
    .catch(err=>{

    })
  });
}

</script>

</body>

</html>